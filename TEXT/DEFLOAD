
Special Form: DEFLOAD

Syntax:   (DEFLOAD fun1 sym2)

 fun1 (required, not evaluated) - a symbol naming a function.
 sym2 (required, not evaluated) - a valid IBM-style symbol
                                  (8 characters or less, alphanumeric).

Returns:

 fun1, after associating with it the IBM-style external name specified
 by sym2.

Processing:

 Under the interpreter, DEFLOAD places sym2 on the AUTOLOAD property of
 fun1.  When the interpreter attempts to resolve fun1 as a function call
 (i.e.  when it is the CAR of a form being evaluated or is the first
 argument of APPLY), the AUTOLOAD property value is used, if present,
 to pass to ZILLOAD, who searches for the name on the system library.
 (If there is no AUTOLOAD property, fun1 is used.)

 Any existing function definitions on fun1's property list are removed
 when DEFLOAD is issued.  Specifying NIL for sym2 is equivalent to
 removing the AUTOLOAD property, or making fun1 be its own external
 name.

 Under the compiler, DEFLOAD associates a given function name fun1 with
 an external name sym2, which is used as follows:

 If code to call fun1 function is compiled, and fun1 is not defined in
 the source file, the external name (V-con) generated by the compiler is
 sym2.

 If fun1 is defined in the source file, the internal name assigned to it
 is sym2.  This is irrelevant EXCEPT when fun1 is intended to be the
 main function of the file but the source file name is sym2, and is a
 way of creating a function which must be loaded via an IBM-style name
 but whose true name is longer.  For example, assume source file FOO is
 being compiled; normally you would have to have

  (DEFUN FOO ...)

 somewhere in the file.  But you could also have this:

  (DEFUN FOO-BAR-BAZ ...)

 along with

  (DEFLOAD FOO-BAR-BAZ FOO)

 which tells the compiler that FOO-BAR-BAZ will be known externally
 as FOO, and is the main function of the source file.


Errors signalled:

 Invalid syntax (too few arguments, or args not both symbols).

Notes:

 sym2 must conform to IBM requirements for member names (8 characters or
 less, all alphanumeric, first character not alphabetic).  In addition,
 under the compiler, symbols beginning with the # character or the
 prefix ZLC are reserved, since they would generate conflicts with
 compiler-generated labels.

 If sym2 does not conform to this standard, and sym2 has been made a
 "known" function via DEFARGS, the compiler will substitute a GENSYM
 symbol for the external name and report an error.  Under the
 interpreter, function loading will fail.

 Note carefully that DEFLOAD does NOT simply equate one function with
 another; it will result in a compiled code object being assigned ONLY.

Examples:

 (DEFLOAD INTERSECTION INTERSEC)

 (DEFLOAD HAIRY-FUNCTION-NAME HFNAME)

